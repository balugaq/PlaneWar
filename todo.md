功能扩展（可逐步实现）

- 增加敌人类型（追踪弹、快速小兵、发射子弹的中型敌人）
- 添加道具（加速、护盾、回血、连发）
- 增加 Boss 关卡与阶段机制
- 增加关卡/难度曲线（随时间提高 spawn_rate 与敌人速度）
- 添加分数排行榜（本地保存到 JSON）
- 优化性能：对象池（Bullet 池），碰撞分区加速

重构与测试

- 将 `main.py` 拆分为模块（例如 `game/` 包），便于维护与测试。
- 为关键逻辑添加简单测试（例如：敌人生成、子弹速度、碰撞检测函数），可以使用 pytest。

打包与发布

- 使用 PyInstaller 打包为单文件可执行（Windows）：

  ```powershell
  python -m pip install pyinstaller
  python -m PyInstaller --onefile --windowed main.py
  ```
新增“随机事件”实体，图标为random_event.png，大小为64x64，在stage >= 2时，立即生成1个，随后间隔50秒生成，生成在场地上半部分，生成后马上向着玩家的方向以每秒8像素的速度移动，当玩家碰到随机事件实体后，触发随机事件，包括以下：
1. 科技发展：
①触发3秒notice：A市科技快速发展，造出了更高级的飞机；
②使game的tech_develop=True，并在15秒后改回为False（使用runTaskLater），当此属性为True时，若stage<4，生成的敌方飞机等级升高1级，若stage=4，使生成4级飞机的权重提高到原来的0.2
2. 经济发展:
①触发3秒notice：A市经济快速发展，造出了更多飞机；
②使game的economy_develop=True，并在15秒后改回为False（使用runTaskLater），当此属性为True时，使生成敌人的interval_map的值降低0.2
3. 黑客入侵
①触发3秒notice: A市遭到黑客入侵，飞机指挥系统暂时瘫痪
②使game的hack_attack=True，并在15秒后改回False（使用runTaskLater），当此属性为True时，阻止敌人生成，包括阻止固定生成和阻止平衡生成（指在场上没有飞机时会立刻生成飞机）
4. 空中支援
①触发3秒notice：你得到了空中支援！
②使玩家能3种发射方式所能发射的子弹增加1，最多通过此方式增加3，当达到阈值时，不再生成此随机事件
5. 飓风袭击
①触发3秒notice: 警告！警告！正在进入风暴区！
②使全场飞机和子弹的飞行速度减慢50%，15秒后恢复

注: 为描述方便，在部分描述中提到了修改原数值的方式，但实际编写时不应修改常量值，而是应当通过if和状态变量控制数值。

1. 教程（背景故事，A市，B市）
2. 代码整理（先备份）